<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Fishtank Monitor: serial_monitor.SerialMonitor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fishtank Monitor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceserial__monitor.html">serial_monitor</a></li><li class="navelem"><a class="el" href="classserial__monitor_1_1SerialMonitor.html">SerialMonitor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">serial_monitor.SerialMonitor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> manages JSON encoded communications with the alamode.  
 <a href="classserial__monitor_1_1SerialMonitor.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6365423408ff3a8185cc602c3ccb0ba6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classserial__monitor_1_1SerialMonitor.html#a6365423408ff3a8185cc602c3ccb0ba6">__init__</a></td></tr>
<tr class="memdesc:a6365423408ff3a8185cc602c3ccb0ba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor creates the <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> thread but does not start it.  <a href="#a6365423408ff3a8185cc602c3ccb0ba6"></a><br/></td></tr>
<tr class="memitem:aac39079de9cc6929cff173092a5eb2e4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classserial__monitor_1_1SerialMonitor.html#aac39079de9cc6929cff173092a5eb2e4">write_to_serial</a></td></tr>
<tr class="memdesc:aac39079de9cc6929cff173092a5eb2e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a specified JSON object to the serial device.  <a href="#aac39079de9cc6929cff173092a5eb2e4"></a><br/></td></tr>
<tr class="memitem:a9f025f53cab070761ec4712f1207e789"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classserial__monitor_1_1SerialMonitor.html#a9f025f53cab070761ec4712f1207e789">run</a></td></tr>
<tr class="memdesc:a9f025f53cab070761ec4712f1207e789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endlessly read from serial and make measurements available to third parties.  <a href="#a9f025f53cab070761ec4712f1207e789"></a><br/></td></tr>
<tr class="memitem:a657f2f3ef8c37f184d32d5f4d296095d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classserial__monitor_1_1SerialMonitor.html#a657f2f3ef8c37f184d32d5f4d296095d">create_monitor</a></td></tr>
<tr class="memdesc:a657f2f3ef8c37f184d32d5f4d296095d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> object using config data from the configuration file.  <a href="#a657f2f3ef8c37f184d32d5f4d296095d"></a><br/></td></tr>
<tr class="memitem:ad38ca7fbadb72bc4665a05c07822c16b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad38ca7fbadb72bc4665a05c07822c16b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classserial__monitor_1_1SerialMonitor.html#ad38ca7fbadb72bc4665a05c07822c16b">start_monitor</a></td></tr>
<tr class="memdesc:ad38ca7fbadb72bc4665a05c07822c16b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start ourselves. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a39ce525098e27fc89b78d500533e2a05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39ce525098e27fc89b78d500533e2a05"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ph</b></td></tr>
<tr class="memitem:ae8234d6c54e09f2f00754d8683474854"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8234d6c54e09f2f00754d8683474854"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>temperature</b></td></tr>
<tr class="memitem:a75eff8a74282a197b06cc53a25a28ffb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75eff8a74282a197b06cc53a25a28ffb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>started</b></td></tr>
<tr class="memitem:af44611672652eb03cb7e0264c1764f55"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af44611672652eb03cb7e0264c1764f55"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>serial_device</b></td></tr>
<tr class="memitem:ad55ddd61c77a6457de947938da81a4f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad55ddd61c77a6457de947938da81a4f8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ard</b></td></tr>
<tr class="memitem:aa30e103e10bafd1ba8d405c8f605d7db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa30e103e10bafd1ba8d405c8f605d7db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>daemon</b></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> manages JSON encoded communications with the alamode. </p>
<p>Currently bi-directional communications are limited to an initial message to the alamode containing configration details followed by a series of reads from the alamode containing sensor measurements and logs from the alamode that terminates on when the <a class="el" href="namespacefishtank__monitor.html" title="The main function for the Fishtank Monitor.">fishtank_monitor</a> is stopped. All communications are encoded in simple JSON strings. Logs entries from the alamode are prefixed to distinguish them from the <a class="el" href="namespacefishtank__monitor.html" title="The main function for the Fishtank Monitor.">fishtank_monitor</a> logs but are emitted to those logs also. The <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> runs in its own thread. </p>

<p>Definition at line <a class="el" href="serial__monitor_8py_source.html#l00027">27</a> of file <a class="el" href="serial__monitor_8py_source.html">serial_monitor.py</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6365423408ff3a8185cc602c3ccb0ba6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def serial_monitor.SerialMonitor.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>serial_device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The constructor creates the <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> thread but does not start it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serial_device</td><td>the serial device to read and write to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="serial__monitor_8py_source.html#l00032">32</a> of file <a class="el" href="serial__monitor_8py_source.html">serial_monitor.py</a>.</p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a657f2f3ef8c37f184d32d5f4d296095d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def serial_monitor.SerialMonitor.create_monitor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> object using config data from the configuration file. </p>
<dl class="section return"><dt>Returns</dt><dd>the <a class="el" href="classserial__monitor_1_1SerialMonitor.html" title="The SerialMonitor manages JSON encoded communications with the alamode.">SerialMonitor</a> object </dd></dl>

<p>Definition at line <a class="el" href="serial__monitor_8py_source.html#l00105">105</a> of file <a class="el" href="serial__monitor_8py_source.html">serial_monitor.py</a>.</p>

</div>
</div>
<a class="anchor" id="a9f025f53cab070761ec4712f1207e789"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def serial_monitor.SerialMonitor.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Endlessly read from serial and make measurements available to third parties. </p>
<p>The run method reads messages from the serial device and sets the sensor measurements on itself in public members which parties interested in the most recent observations can read. </p>

<p>Definition at line <a class="el" href="serial__monitor_8py_source.html#l00085">85</a> of file <a class="el" href="serial__monitor_8py_source.html">serial_monitor.py</a>.</p>

</div>
</div>
<a class="anchor" id="aac39079de9cc6929cff173092a5eb2e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def serial_monitor.SerialMonitor.write_to_serial </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>json_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a specified JSON object to the serial device. </p>
<p>Although this class does not enforce this, it is nonetheless the case that writing to serial can only happen immediately upon startup, at which point the only communications supported are an endless series of reads from the alamode.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>This class should ensure that the protocol (write first, then read forever) is enforced rather than leaving this responsibility to the client. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json_message</td><td>the JSON messsage to send to the alamode </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="serial__monitor_8py_source.html#l00052">52</a> of file <a class="el" href="serial__monitor_8py_source.html">serial_monitor.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>fishtank_monitor/<a class="el" href="serial__monitor_8py_source.html">serial_monitor.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 22 2015 12:39:24 for Fishtank Monitor by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
